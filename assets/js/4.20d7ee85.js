(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{350:function(t,s,a){t.exports=a.p+"assets/img/js-01.dedc669b.png"},351:function(t,s,a){t.exports=a.p+"assets/img/js-02.2d9cb8f2.png"},352:function(t,s,a){t.exports=a.p+"assets/img/js-03.23ab06ab.png"},364:function(t,s,a){"use strict";a.r(s);var e=a(43),n=Object(e.a)({},(function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"前端面试题"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#前端面试题"}},[t._v("#")]),t._v(" 前端面试题")]),t._v(" "),e("h2",{attrs:{id:"_1-flex-grow-flex-shrink-flex-basis-的概念"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-flex-grow-flex-shrink-flex-basis-的概念"}},[t._v("#")]),t._v(" 1. flex-grow/flex-shrink/flex-basis 的概念")]),t._v(" "),e("p",[e("a",{attrs:{href:"http://static.vgee.cn/static/index.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("flex 学习链接"),e("OutboundLink")],1)]),t._v(" "),e("p",[t._v("容器的属性：")]),t._v(" "),e("p",[e("strong",[t._v("针对父元素的属性：")])]),t._v(" "),e("p",[e("strong",[t._v("flex-direction 决定主轴的方向")]),t._v("(row/row-reverse/column/column-reverse)")]),t._v(" "),e("p",[e("strong",[t._v("flex-wrap 决定一条轴线是否排不下时如何换行元素")]),t._v("(now-wrap/wrap/wrap-reverse)")]),t._v(" "),e("p",[t._v("flex-flow属性是"),e("strong",[t._v("flex-direction属性")]),t._v("和"),e("strong",[t._v("flex-wrap属性")]),t._v("的简写形式，默认值为row nowrap")]),t._v(" "),e("p",[e("strong",[t._v("justify-content 决定主轴的对齐方式")])]),t._v(" "),e("div",{staticClass:"language-css extra-class"},[e("pre",{pre:!0,attrs:{class:"language-css"}},[e("code",[e("span",{pre:!0,attrs:{class:"token property"}},[t._v("justify-content")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" flex-start | flex-end | center | space-between | space-around |\n\tspace-evenly"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),e("p",[e("strong",[t._v("属性如下：")])]),t._v(" "),e("ol",[e("li",[t._v("flex-start 决定左对齐")]),t._v(" "),e("li",[t._v("flex-end 决定右对齐")]),t._v(" "),e("li",[t._v("center 居中对齐")]),t._v(" "),e("li",[t._v("space-between 两端对齐，多余的空白间距在元素中间区域均分")]),t._v(" "),e("li",[t._v("space-around 环绕 每个 flex 子项环绕相等的空白间距，两侧的空白只有中间间隔的一半")]),t._v(" "),e("li",[t._v("space-evenly")])]),t._v(" "),e("p",[e("strong",[t._v("align-items 决定交叉轴的方式如何对齐")]),t._v("(仅针对一根轴线)")]),t._v(" "),e("p",[t._v("如果是多个轴线，"),e("strong",[t._v("使用 align-content 排列")])]),t._v(" "),e("p",[e("strong",[t._v("针对子元素的属性：")])]),t._v(" "),e("p",[e("strong",[t._v("flex-grow")]),t._v(" 定义项目的放大比例，"),e("strong",[t._v("默认为 0(如果存在剩余空间，也不放大)")])]),t._v(" "),e("p",[e("strong",[t._v("flex-shrink")]),t._v(" 定义了项目的缩小比例，"),e("strong",[t._v("默认为 1，即如果空间不足，该项目将缩小")])]),t._v(" "),e("p",[e("strong",[t._v("当空间不足时，都将等比例缩小，如果项目为 0，则不缩小")])]),t._v(" "),e("p",[t._v("补充: flex-grow 是空间足够时候如何利用空间，flex-shrink 则是空间不足时候如何收缩腾出空间")]),t._v(" "),e("p",[e("strong",[t._v("flex-shrink 的计算规则：")])]),t._v(" "),e("p",[e("img",{attrs:{src:a(350),alt:"img"}})]),t._v(" "),e("p",[e("img",{attrs:{src:a(351),alt:"img"}})]),t._v(" "),e("p",[e("strong",[t._v("flex-basis")]),t._v(" "),e("strong",[t._v("再分配多余的空间之前，项目的长度")]),t._v("，合法值: auto/inherit 或%、px、em 或者其他长度单位，"),e("strong",[t._v("如果显式设置了 flex-shrink，会自动缩小到容器内而不溢出")])]),t._v(" "),e("p",[t._v("当 flex:auto 时 相当于以上三个属性分别为 1 1 auto")]),t._v(" "),e("p",[t._v("当 flex:none 时 相当于以上三个属性分别为 0 0 auto")]),t._v(" "),e("p",[e("strong",[t._v("初始化的属性：当 flex:initial 时 相当于以上三个属性分别为 0 1 auto")])]),t._v(" "),e("p",[t._v("flex:1 相当于三个属性分别为 1 1 "),e("number")],1),t._v(" "),e("p",[t._v("当 flex:inherit 时 从父元素继承该属性")]),t._v(" "),e("h2",{attrs:{id:"_2-实现-instanceof"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-实现-instanceof"}},[t._v("#")]),t._v(" 2. 实现 instanceOf")]),t._v(" "),e("blockquote",[e("p",[t._v("核心要点：原型链的向上查找")])]),t._v(" "),e("p",[t._v("编写实现 instanceOf 代码：")]),t._v(" "),e("p",[t._v("left 代表左变量，right 代表有变量")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("myInstanceof")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("left"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" right")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" proto "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Object"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("getPrototypeOf")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("left"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("while")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("proto "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),t._v("\n\t\t"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("proto "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" right"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prototype"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n\t\tproto "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Object"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("getPrototypeof")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("proto"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),e("p",[t._v("instanceOf 常规代码：")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("Car")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("make"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" model"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" year")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("make "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" make"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("model "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" model"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("year "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" year"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" auto "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Car")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Honda'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Accord'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1998")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\nconsole"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("auto "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("instanceof")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Object")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// expected output: true")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// auto是left variable")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Object是right variable")]),t._v("\n\n")])])]),e("h2",{attrs:{id:"_3-匹配一段字符串中的-this-year-is-2000-中的"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3-匹配一段字符串中的-this-year-is-2000-中的"}},[t._v("#")]),t._v(" 3. 匹配一段字符串中的'this year is 2000$'中的$")]),t._v(" "),e("p",[t._v("分析：")]),t._v(" "),e("p",[t._v("由于$在正则表达式中式特殊含义的符号（代表尾部匹配，不能有空格），并且需要\\来转义成普通的")]),t._v(" "),e("p",[t._v("字符")]),t._v(" "),e("p",[t._v("正则表达式如下：")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" str "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'1112020$'")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" patt1 "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token regex"}},[t._v("/2020\\$$/")]),t._v("\ndocument"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("write")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("str"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("match")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("patt1"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 返回2020$")]),t._v("\n")])])]),e("h2",{attrs:{id:"_4-宏任务和微任务执行顺序问题"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_4-宏任务和微任务执行顺序问题"}},[t._v("#")]),t._v(" 4.宏任务和微任务执行顺序问题")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[t._v("setTimeout")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'1'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Promise")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("resolve")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'2'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("setTimeout")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("resolve")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("then")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'3'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nconsole"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'4'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 打印结果是：2 4 1 3")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 如果resolve直接执行，不放在宏任务里面就是 2 4 3 1")]),t._v("\n\n")])])]),e("h2",{attrs:{id:"_5-http-状态码，每个码代表的含义"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_5-http-状态码，每个码代表的含义"}},[t._v("#")]),t._v(" 5.http 状态码，每个码代表的含义")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"left"}},[t._v("分类")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("分类描述")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("1**")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("信息，服务器收到请求，"),e("strong",[t._v("需要请求者继续执行操作")])])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("2**")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[e("strong",[t._v("成功")]),t._v("，操作被成功接收并处理")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("3**")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[e("strong",[t._v("重定向")]),t._v("，需要进一步的操作以完成请求")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("4**")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[e("strong",[t._v("客户端错误")]),t._v("，请求包含语法错误或无法完成请求")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("5**")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[e("strong",[t._v("服务器错误")]),t._v("，服务器在处理请求的过程中发生了错误")])])])]),t._v(" "),e("p",[e("strong",[t._v("常见的状态码列表")])]),t._v(" "),e("ul",[e("li",[t._v("200 - 请求成功")]),t._v(" "),e("li",[t._v("301 - 资源（网页等）被永久转移到其它 URL")]),t._v(" "),e("li",[t._v("404 - 请求的资源（网页等）不存在")]),t._v(" "),e("li",[t._v("500 - 内部服务器错误")])]),t._v(" "),e("h2",{attrs:{id:"_6-new-number-3-是否等于-3？"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_6-new-number-3-是否等于-3？"}},[t._v("#")]),t._v(" 6. new Number(3) 是否等于 3？")]),t._v(" "),e("p",[t._v("Number 对象是原始数值的"),e("strong",[t._v("包装对象")]),t._v("。")]),t._v(" "),e("p",[t._v("var num = new Number(value);")]),t._v(" "),e("p",[e("strong",[t._v("注意：")]),t._v(" "),e("strong",[t._v("如果一个参数值不能转换为一个数字将返回 NaN (非数字值)。")])]),t._v(" "),e("p",[t._v("补充：")]),t._v(" "),e("p",[t._v("三等号判断 会比较两个值是否相等，在比较前不进行隐式转换")]),t._v(" "),e("p",[t._v("如果两个被比较的值具有不同的类型，即使有相同的值也是不全等的")]),t._v(" "),e("h2",{attrs:{id:"_7-页面输入-url-到页面加载显示完成，这个过程发生了什么？"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_7-页面输入-url-到页面加载显示完成，这个过程发生了什么？"}},[t._v("#")]),t._v(" 7. 页面输入 url 到页面加载显示完成，这个过程发生了什么？")]),t._v(" "),e("ul",[e("li",[t._v("DNS 解析")]),t._v(" "),e("li",[t._v("TCP 连接")]),t._v(" "),e("li",[t._v("发送 HTTP 请求")]),t._v(" "),e("li",[t._v("服务器处理请求并返回 HTTP 报文")]),t._v(" "),e("li",[t._v("浏览器解析渲染页面")]),t._v(" "),e("li",[t._v("连接结束")])]),t._v(" "),e("p",[e("strong",[t._v("补充：http 请求的缓存流程")])]),t._v(" "),e("p",[e("img",{attrs:{src:a(352),alt:"preview"}})]),t._v(" "),e("h2",{attrs:{id:"_8-回流和重绘"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_8-回流和重绘"}},[t._v("#")]),t._v(" 8.回流和重绘")]),t._v(" "),e("p",[e("a",{attrs:{href:"https://segmentfault.com/a/1190000017329980",target:"_blank",rel:"noopener noreferrer"}},[t._v("回流和重绘 详细阐述"),e("OutboundLink")],1)]),t._v(" "),e("p",[e("strong",[t._v("回流概念：")])]),t._v(" "),e("p",[t._v("当render tree中的一部分(或全部)因为元素的"),e("strong",[t._v("规模尺寸，布局，隐藏")]),t._v("等改变而需要重新构建。")]),t._v(" "),e("p",[e("strong",[t._v("重绘概念：")])]),t._v(" "),e("p",[t._v("​\t当render tree中的一些元素需要更新属性，而这些属性只是"),e("strong",[t._v("影响元素的外观，风格")]),t._v("，"),e("strong",[t._v("而不会影响布")])]),t._v(" "),e("p",[e("strong",[t._v("局的")]),t._v("，比如background-color。")]),t._v(" "),e("p",[t._v("页面布局发生变化的时候，需要回流，比如以下情况：")]),t._v(" "),e("ol",[e("li",[t._v("添加或删除可见的 DOM 元素")]),t._v(" "),e("li",[t._v("元素的位置发生变化 元素的尺寸发生变化(包括外边距、内边框，边框大小，高度和宽度等等）")]),t._v(" "),e("li",[t._v("内容发生变化，比如文本变化或图片被另一个不同尺寸的图片所替代")]),t._v(" "),e("li",[t._v("页面一开始渲染时（正常回流，不用避免）")]),t._v(" "),e("li",[t._v("浏览器窗口尺寸变化，是根据视口的大小来计算的")])]),t._v(" "),e("p",[t._v("注意："),e("strong",[t._v("回流一定触发重绘，而重绘不一定回流")])]),t._v(" "),e("h2",{attrs:{id:"_9-cookies-sessionstorage-和-localstorage-区别？"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_9-cookies-sessionstorage-和-localstorage-区别？"}},[t._v("#")]),t._v(" "),e("strong",[t._v("9.cookies,sessionStorage 和 localStorage 区别？")])]),t._v(" "),e("p",[t._v("使用定义:")]),t._v(" "),e("ul",[e("li",[e("code",[t._v("cookie")]),t._v("是网站为了标示用户身份而储存在用户本地终端（Client Side）上的数据（通常经过加密）")]),t._v(" "),e("li",[t._v("cookie 数据始终在同源的 http 请求中携带（即使不需要），记会在浏览器和服务器间来回传递")]),t._v(" "),e("li",[e("code",[t._v("sessionStorage")]),t._v("和"),e("code",[t._v("localStorage")]),t._v("不会自动把数据发给服务器，仅在本地保存")])]),t._v(" "),e("p",[t._v("存储大小:")]),t._v(" "),e("ul",[e("li",[e("code",[t._v("cookie")]),t._v("数据大小不能超过 4k")]),t._v(" "),e("li",[e("code",[t._v("sessionStorage")]),t._v("和"),e("code",[t._v("localStorage")]),t._v("虽然也有存储大小的限制，但比"),e("code",[t._v("cookie")]),t._v("大得多，可以达到 5M 或更大")])]),t._v(" "),e("p",[t._v("有效期:")]),t._v(" "),e("ul",[e("li",[e("code",[t._v("localStorage")]),t._v(" 存储持久数据，"),e("strong",[t._v("浏览器关闭后数据不丢失")]),t._v("除非主动删除数据")]),t._v(" "),e("li",[e("code",[t._v("sessionStorage")]),t._v(" 数据在"),e("strong",[t._v("当前浏览器窗口关闭后")]),t._v("自动删除")]),t._v(" "),e("li",[e("code",[t._v("cookie")]),t._v(" 设置的"),e("code",[t._v("cookie")]),e("strong",[t._v("过期时间之前")]),t._v("一直有效，即使窗口或浏览器关闭")])]),t._v(" "),e("h2",{attrs:{id:"_10-怎么处理移动端-1px-被渲染成-2px-问题"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_10-怎么处理移动端-1px-被渲染成-2px-问题"}},[t._v("#")]),t._v(" 10.怎么处理移动端 1px 被渲染成 2px 问题")]),t._v(" "),e("p",[e("strong",[t._v("局部处理")])]),t._v(" "),e("ul",[e("li",[e("code",[t._v("meta")]),t._v("标签中的 "),e("code",[t._v("viewport")]),t._v("属性 ，"),e("code",[t._v("initial-scale")]),t._v(" 设置为 "),e("code",[t._v("1")])]),t._v(" "),e("li",[e("code",[t._v("rem")]),t._v("按照设计稿标准走，外加利用"),e("code",[t._v("transfrom 的")]),t._v("scale(0.5) 缩小一倍即可；")])]),t._v(" "),e("p",[e("strong",[t._v("全局处理")])]),t._v(" "),e("ul",[e("li",[e("code",[t._v("meta标签中的")]),t._v("viewport"),e("code",[t._v("属性, initial-scale")]),t._v(" 设置为 "),e("code",[t._v("0.5")])]),t._v(" "),e("li",[e("code",[t._v("rem")]),t._v(" 按照设计稿标准走即可")])]),t._v(" "),e("h2",{attrs:{id:"_11-类型转换"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_11-类型转换"}},[t._v("#")]),t._v(" 11.类型转换")]),t._v(" "),e("blockquote",[e("p",[t._v("首先我们要知道，在 "),e("code",[t._v("JS")]),t._v(" 中类型转换只有三种情况，分别是：")])]),t._v(" "),e("ul",[e("li",[e("p",[e("strong",[t._v("转换为布尔值")])]),t._v(" "),e("ul",[e("li",[t._v("除了"),e("strong",[t._v("0，-0，NAN 是 false")]),t._v("之外都为 true")]),t._v(" "),e("li",[t._v("string 中除了"),e("strong",[t._v("空字符串是 false")]),t._v("之外都为 true")]),t._v(" "),e("li",[e("strong",[t._v("undefined、null 是 false")])]),t._v(" "),e("li",[t._v("引用类型，比如数组、函数、对象都为"),e("strong",[t._v("true")])])])]),t._v(" "),e("li",[e("p",[e("strong",[t._v("转换为数字")])])]),t._v(" "),e("li",[e("p",[e("strong",[t._v("转换为字符串")])]),t._v(" "),e("ul",[e("li",[e("p",[t._v("number => 'number'（number 为任意数字，包括 NaN,-Infinity,+Infinity）")]),t._v(" "),e("p",[t._v("但是-0、+0 始终是'0'")])]),t._v(" "),e("li",[e("p",[t._v("boolean/函数/symbol 结果就是加了双引号或单引号")])])])])]),t._v(" "),e("h2",{attrs:{id:"_12-promise-a-规范"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_12-promise-a-规范"}},[t._v("#")]),t._v(" 12.promise A+规范")]),t._v(" "),e("p",[e("strong",[t._v("译文术语")])]),t._v(" "),e("ul",[e("li",[e("strong",[t._v("解决（fulfill）")]),t._v("：指一个 promise 成功时进行的一系列操作，如状态的改变、回调的执行。虽然规范中用 "),e("code",[t._v("fulfill")]),t._v(" 来表示解决，但在后世的 promise 实现多以 "),e("code",[t._v("resolve")]),t._v(" 来指代之。")]),t._v(" "),e("li",[e("strong",[t._v("拒绝（reject）")]),t._v("：指一个 promise 失败时进行的一系列操作。")]),t._v(" "),e("li",[e("strong",[t._v("终值（eventual value）")]),t._v("：所谓终值，指的是 promise 被"),e("strong",[t._v("解决")]),t._v("时传递给解决回调的值，由于 promise 有"),e("strong",[t._v("一次性")]),t._v("的特征，因此当这个值被传递时，标志着 promise 等待态的结束，故称之终值，有时也直接简称为值（value）。")]),t._v(" "),e("li",[e("strong",[t._v("据因（reason）")]),t._v("：也就是拒绝原因，指在 promise 被"),e("strong",[t._v("拒绝")]),t._v("时传递给拒绝回调的值。")])]),t._v(" "),e("hr"),t._v(" "),e("p",[t._v("Promise 表示一个异步操作的最终结果，与之进行交互的方式主要是 "),e("code",[t._v("then")]),t._v(" 方法，该方法注册了两个回调函数，用于接收 promise 的终值或本 promise 不能执行的原因。")]),t._v(" "),e("p",[t._v("本规范详细列出了 "),e("code",[t._v("then")]),t._v(" 方法的执行过程，所有遵循 Promises/A+ 规范实现的 promise 均可以本标准作为参照基础来实施 "),e("code",[t._v("then")]),t._v(" 方法。因而本规范是十分稳定的。尽管 Promise/A+ 组织有时可能会修订本规范，但主要是为了处理一些特殊的边界情况，且这些改动都是微小且向下兼容的。如果我们要进行大规模不兼容的更新，我们一定会在事先进行谨慎地考虑、详尽的探讨和严格的测试。")]),t._v(" "),e("p",[t._v("从历史上说，本规范实际上是把之前 "),e("a",{attrs:{href:"http://wiki.commonjs.org/wiki/Promises/A",target:"_blank",rel:"noopener noreferrer"}},[t._v("Promise/A 规范"),e("OutboundLink")],1),t._v(" 中的建议明确成为了行为标准：我们一方面扩展了原有规范约定俗成的行为，一方面删减了原规范的一些特例情况和有问题的部分。")]),t._v(" "),e("p",[t._v("最后，核心的 Promises/A+ 规范不设计如何创建、解决和拒绝 promise，而是专注于提供一个通用的 "),e("code",[t._v("then")]),t._v(" 方法。上述对于 promises 的操作方法将来在其他规范中可能会提及。")]),t._v(" "),e("h3",{attrs:{id:"术语"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#术语"}},[t._v("#")]),t._v(" 术语")]),t._v(" "),e("hr"),t._v(" "),e("h4",{attrs:{id:"promise"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#promise"}},[t._v("#")]),t._v(" Promise")]),t._v(" "),e("p",[t._v("promise 是一个拥有 "),e("code",[t._v("then")]),t._v(" 方法的对象或函数，其行为符合本规范；")]),t._v(" "),e("h4",{attrs:{id:"thenable"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#thenable"}},[t._v("#")]),t._v(" thenable")]),t._v(" "),e("p",[t._v("是一个定义了 "),e("code",[t._v("then")]),t._v(" 方法的对象或函数，文中译作“拥有 "),e("code",[t._v("then")]),t._v(" 方法”；")]),t._v(" "),e("h4",{attrs:{id:"值（value）"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#值（value）"}},[t._v("#")]),t._v(" 值（value）")]),t._v(" "),e("p",[t._v("指任何 JavaScript 的合法值（包括 "),e("code",[t._v("undefined")]),t._v(" , thenable 和 promise）；")]),t._v(" "),e("h4",{attrs:{id:"异常（exception）"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#异常（exception）"}},[t._v("#")]),t._v(" 异常（exception）")]),t._v(" "),e("p",[t._v("是使用 "),e("code",[t._v("throw")]),t._v(" 语句抛出的一个值。")]),t._v(" "),e("h4",{attrs:{id:"据因（reason）"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#据因（reason）"}},[t._v("#")]),t._v(" 据因（reason）")]),t._v(" "),e("p",[t._v("表示一个 promise 的拒绝原因。")]),t._v(" "),e("h3",{attrs:{id:"要求"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#要求"}},[t._v("#")]),t._v(" 要求")]),t._v(" "),e("hr"),t._v(" "),e("h4",{attrs:{id:"promise-的状态"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#promise-的状态"}},[t._v("#")]),t._v(" Promise 的状态")]),t._v(" "),e("p",[t._v("一个 Promise 的当前状态必须为以下三种状态中的一种："),e("strong",[t._v("等待态（Pending）")]),t._v("、"),e("strong",[t._v("执行态（Fulfilled）")])]),t._v(" "),e("p",[t._v("和"),e("strong",[t._v("拒绝态（Rejected）")]),t._v("。")]),t._v(" "),e("p",[e("strong",[t._v("等待态（Pending）")])]),t._v(" "),e("p",[t._v("处于等待态时，promise 需满足以下条件：")]),t._v(" "),e("ul",[e("li",[t._v("可以迁移至执行态或拒绝态")])]),t._v(" "),e("p",[e("strong",[t._v("执行态（Fulfilled）")])]),t._v(" "),e("p",[t._v("处于执行态时，promise 需满足以下条件：")]),t._v(" "),e("ul",[e("li",[t._v("不能迁移至其他任何状态")]),t._v(" "),e("li",[t._v("必须拥有一个"),e("strong",[t._v("不可变")]),t._v("的终值")])]),t._v(" "),e("p",[e("strong",[t._v("拒绝态（Rejected）")])]),t._v(" "),e("p",[t._v("处于拒绝态时，promise 需满足以下条件：")]),t._v(" "),e("ul",[e("li",[t._v("不能迁移至其他任何状态")]),t._v(" "),e("li",[t._v("必须拥有一个"),e("strong",[t._v("不可变")]),t._v("的据因")])]),t._v(" "),e("p",[t._v("这里的不可变指的是恒等（即可用 "),e("code",[t._v("===")]),t._v(" 判断相等），而不是意味着更深层次的不可变（**译者注：**盖指")]),t._v(" "),e("p",[t._v("当 value 或 reason 不是基本值时，"),e("strong",[t._v("只要求其引用地址相等，但属性值可被更改")]),t._v("）。")]),t._v(" "),e("h3",{attrs:{id:"then-方法"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#then-方法"}},[t._v("#")]),t._v(" "),e("strong",[t._v("Then 方法")])]),t._v(" "),e("p",[t._v("一个 promise 必须提供一个 "),e("code",[t._v("then")]),t._v(" 方法以访问其当前值、终值和据因。")]),t._v(" "),e("p",[t._v("promise 的 "),e("code",[t._v("then")]),t._v(" 方法接受两个参数：")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("promise.then(onFulfilled, onRejected)\n")])])]),e("h5",{attrs:{id:"参数可选"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#参数可选"}},[t._v("#")]),t._v(" 参数可选")]),t._v(" "),e("p",[e("code",[t._v("onFulfilled")]),t._v(" 和 "),e("code",[t._v("onRejected")]),t._v(" 都是可选参数。")]),t._v(" "),e("ul",[e("li",[t._v("如果 "),e("code",[t._v("onFulfilled")]),t._v(" 不是函数，其必须被忽略")]),t._v(" "),e("li",[t._v("如果 "),e("code",[t._v("onRejected")]),t._v(" 不是函数，其必须被忽略")])]),t._v(" "),e("h5",{attrs:{id:"onfulfilled-特性"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#onfulfilled-特性"}},[t._v("#")]),t._v(" "),e("code",[t._v("onFulfilled")]),t._v(" 特性")]),t._v(" "),e("p",[t._v("如果 "),e("code",[t._v("onFulfilled")]),t._v(" 是函数：")]),t._v(" "),e("ul",[e("li",[t._v("当 "),e("code",[t._v("promise")]),t._v(" 执行结束后其必须被调用，其第一个参数为 "),e("code",[t._v("promise")]),t._v(" 的终值")]),t._v(" "),e("li",[t._v("在 "),e("code",[t._v("promise")]),t._v(" 执行结束前其不可被调用")]),t._v(" "),e("li",[e("strong",[t._v("其调用次数不可超过一次")])])]),t._v(" "),e("h5",{attrs:{id:"onrejected-特性"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#onrejected-特性"}},[t._v("#")]),t._v(" "),e("code",[t._v("onRejected")]),t._v(" 特性")]),t._v(" "),e("p",[t._v("如果 "),e("code",[t._v("onRejected")]),t._v(" 是函数：")]),t._v(" "),e("ul",[e("li",[t._v("当 "),e("code",[t._v("promise")]),t._v(" 被拒绝执行后其必须被调用，其第一个参数为 "),e("code",[t._v("promise")]),t._v(" 的据因")]),t._v(" "),e("li",[t._v("在 "),e("code",[t._v("promise")]),t._v(" 被拒绝执行前其不可被调用")]),t._v(" "),e("li",[t._v("其调用次数不可超过一次")])]),t._v(" "),e("h5",{attrs:{id:"调用时机"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#调用时机"}},[t._v("#")]),t._v(" 调用时机")]),t._v(" "),e("p",[e("code",[t._v("onFulfilled")]),t._v(" 和 "),e("code",[t._v("onRejected")]),t._v(" 只有在"),e("a",{attrs:{href:"http://es5.github.io/#x10.3",target:"_blank",rel:"noopener noreferrer"}},[t._v("执行环境"),e("OutboundLink")],1),t._v("堆栈仅包含"),e("strong",[t._v("平台代码")]),t._v("时才可被调用[^注1]")]),t._v(" "),e("h5",{attrs:{id:"调用要求"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#调用要求"}},[t._v("#")]),t._v(" 调用要求")]),t._v(" "),e("p",[e("code",[t._v("onFulfilled")]),t._v(" 和 "),e("code",[t._v("onRejected")]),t._v(" 必须被作为函数调用（即没有 "),e("code",[t._v("this")]),t._v(" 值）[^注2]")]),t._v(" "),e("h5",{attrs:{id:"多次调用"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#多次调用"}},[t._v("#")]),t._v(" 多次调用")]),t._v(" "),e("p",[e("code",[t._v("then")]),t._v(" 方法可以被同一个 "),e("code",[t._v("promise")]),t._v(" 调用多次")]),t._v(" "),e("ul",[e("li",[t._v("当 "),e("code",[t._v("promise")]),t._v(" 成功执行时，所有 "),e("code",[t._v("onFulfilled")]),t._v(" 需按照其"),e("strong",[t._v("注册顺序")]),t._v("依次回调")]),t._v(" "),e("li",[t._v("当 "),e("code",[t._v("promise")]),t._v(" 被拒绝执行时，所有的 "),e("code",[t._v("onRejected")]),t._v(" 需按照其"),e("strong",[t._v("注册顺序")]),t._v("依次回调")])]),t._v(" "),e("h5",{attrs:{id:"返回"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#返回"}},[t._v("#")]),t._v(" 返回")]),t._v(" "),e("p",[e("strong",[e("code",[t._v("then")]),t._v(" 方法必须返回一个 "),e("code",[t._v("promise")]),t._v(" 对象")]),t._v("[^注3]")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("promise2 = promise1.then(onFulfilled, onRejected);\n")])])]),e("ul",[e("li",[t._v("如果 "),e("code",[t._v("onFulfilled")]),t._v(" 或者 "),e("code",[t._v("onRejected")]),t._v(" 返回一个值 "),e("code",[t._v("x")]),t._v(" ，则运行下面的 "),e("strong",[t._v("Promise 解决过程")]),t._v("："),e("code",[t._v("[[Resolve]](promise2, x)")])]),t._v(" "),e("li",[t._v("如果 "),e("code",[t._v("onFulfilled")]),t._v(" 或者 "),e("code",[t._v("onRejected")]),t._v(" 抛出一个异常 "),e("code",[t._v("e")]),t._v(" ，则 "),e("code",[t._v("promise2")]),t._v(" 必须拒绝执行，并返回拒因 "),e("code",[t._v("e")])]),t._v(" "),e("li",[t._v("如果 "),e("code",[t._v("onFulfilled")]),t._v(" 不是函数且 "),e("code",[t._v("promise1")]),t._v(" 成功执行， "),e("code",[t._v("promise2")]),t._v(" 必须成功执行并返回相同的值")]),t._v(" "),e("li",[t._v("如果 "),e("code",[t._v("onRejected")]),t._v(" 不是函数且 "),e("code",[t._v("promise1")]),t._v(" 拒绝执行， "),e("code",[t._v("promise2")]),t._v(" 必须拒绝执行并返回相同的据因")])]),t._v(" "),e("p",[t._v("**译者注：**理解上面的“返回”部分非常重要，即："),e("strong",[t._v("不论 "),e("code",[t._v("promise1")]),t._v(" 被 reject 还是被 resolve 时 "),e("code",[t._v("promise2")]),t._v(" 都会被 resolve，只有出现异常时才会被 rejected")]),t._v("。")]),t._v(" "),e("h3",{attrs:{id:"promise-解决过程"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#promise-解决过程"}},[t._v("#")]),t._v(" "),e("strong",[t._v("Promise 解决过程")])]),t._v(" "),e("p",[e("strong",[t._v("Promise 解决过程")]),t._v("是一个抽象的操作，其需输入一个 "),e("code",[t._v("promise")]),t._v(" 和一个值，我们表示为 "),e("code",[t._v("[[Resolve]](promise, x)")]),t._v("，如果 "),e("code",[t._v("x")]),t._v(" 有 "),e("code",[t._v("then")]),t._v(" 方法且看上去像一个 Promise ，解决程序即尝试使 "),e("code",[t._v("promise")]),t._v(" 接受 "),e("code",[t._v("x")]),t._v(" 的状态；否则其用 "),e("code",[t._v("x")]),t._v(" 的值来执行 "),e("code",[t._v("promise")]),t._v(" 。")]),t._v(" "),e("p",[t._v("这种 "),e("em",[t._v("thenable")]),t._v(" 的特性使得 Promise 的实现更具有通用性：只要其暴露出一个遵循 Promise/A+ 协议的 "),e("code",[t._v("then")]),t._v(" 方法即可；这同时也使遵循 Promise/A+ 规范的实现可以与那些不太规范但可用的实现能良好共存。")]),t._v(" "),e("p",[t._v("运行 "),e("code",[t._v("[[Resolve]](promise, x)")]),t._v(" 需遵循以下步骤：")]),t._v(" "),e("h5",{attrs:{id:"x-与-promise-相等"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#x-与-promise-相等"}},[t._v("#")]),t._v(" "),e("code",[t._v("x")]),t._v(" 与 "),e("code",[t._v("promise")]),t._v(" 相等")]),t._v(" "),e("p",[t._v("如果 "),e("code",[t._v("promise")]),t._v(" 和 "),e("code",[t._v("x")]),t._v(" 指向同一对象，以 "),e("code",[t._v("TypeError")]),t._v(" 为据因拒绝执行 "),e("code",[t._v("promise")])]),t._v(" "),e("h5",{attrs:{id:"x-为-promise"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#x-为-promise"}},[t._v("#")]),t._v(" "),e("code",[t._v("x")]),t._v(" 为 Promise")]),t._v(" "),e("p",[t._v("如果 "),e("code",[t._v("x")]),t._v(" 为 Promise ，则使 "),e("code",[t._v("promise")]),t._v(" 接受 "),e("code",[t._v("x")]),t._v(" 的状态 [^注4]：")]),t._v(" "),e("ul",[e("li",[t._v("如果 "),e("code",[t._v("x")]),t._v(" 处于等待态， "),e("code",[t._v("promise")]),t._v(" 需保持为等待态直至 "),e("code",[t._v("x")]),t._v(" 被执行或拒绝")]),t._v(" "),e("li",[t._v("如果 "),e("code",[t._v("x")]),t._v(" 处于执行态，用相同的值执行 "),e("code",[t._v("promise")])]),t._v(" "),e("li",[t._v("如果 "),e("code",[t._v("x")]),t._v(" 处于拒绝态，用相同的据因拒绝 "),e("code",[t._v("promise")])])]),t._v(" "),e("h5",{attrs:{id:"x-为对象或函数"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#x-为对象或函数"}},[t._v("#")]),t._v(" "),e("code",[t._v("x")]),t._v(" 为对象或函数")]),t._v(" "),e("p",[t._v("如果 "),e("code",[t._v("x")]),t._v(" 为对象或者函数：")]),t._v(" "),e("ul",[e("li",[t._v("把 "),e("code",[t._v("x.then")]),t._v(" 赋值给 "),e("code",[t._v("then")]),t._v("[^注5]")]),t._v(" "),e("li",[t._v("如果取 "),e("code",[t._v("x.then")]),t._v(" 的值时抛出错误 "),e("code",[t._v("e")]),t._v(" ，则以 "),e("code",[t._v("e")]),t._v(" 为据因拒绝 "),e("code",[t._v("promise")])]),t._v(" "),e("li",[t._v("如果 then 是函数，将 x 作为函数的作用域，this 调用之。传递两个回调函数作为参数，第一个参数叫做"),e("strong",[t._v("resolvePromise")]),t._v("，第二个参数叫做"),e("strong",[t._v("rejectPromise")]),t._v(":\n"),e("ul",[e("li",[t._v("如果 "),e("code",[t._v("resolvePromise")]),t._v(" 以值 "),e("code",[t._v("y")]),t._v(" 为参数被调用，则运行 "),e("code",[t._v("[[Resolve]](promise, y)")])]),t._v(" "),e("li",[t._v("如果 "),e("code",[t._v("rejectPromise")]),t._v(" 以据因 "),e("code",[t._v("r")]),t._v(" 为参数被调用，则以据因 "),e("code",[t._v("r")]),t._v(" 拒绝 "),e("code",[t._v("promise")])]),t._v(" "),e("li",[t._v("如果 "),e("code",[t._v("resolvePromise")]),t._v(" 和 "),e("code",[t._v("rejectPromise")]),t._v(" 均被调用，或者被同一参数调用了多次，则优先采用首次调用并忽略剩下的调用")]),t._v(" "),e("li",[t._v("如果调用 then 方法抛出了异常 e：\n"),e("ul",[e("li",[t._v("如果 "),e("code",[t._v("resolvePromise")]),t._v(" 或 "),e("code",[t._v("rejectPromise")]),t._v(" 已经被调用，则忽略之")]),t._v(" "),e("li",[t._v("否则以 "),e("code",[t._v("e")]),t._v(" 为据因拒绝 "),e("code",[t._v("promise")])])])]),t._v(" "),e("li",[t._v("如果 "),e("code",[t._v("then")]),t._v(" 不是函数，以 "),e("code",[t._v("x")]),t._v(" 为参数执行 "),e("code",[t._v("promise")])])])]),t._v(" "),e("li",[t._v("如果 "),e("code",[t._v("x")]),t._v(" 不为对象或者函数，以 "),e("code",[t._v("x")]),t._v(" 为参数执行 "),e("code",[t._v("promise")])])]),t._v(" "),e("p",[t._v("如果一个 promise 被一个循环的 "),e("em",[t._v("thenable")]),t._v(" 链中的对象解决，而 "),e("code",[t._v("[[Resolve]](promise, thenable)")]),t._v(" 的递归性质又使得其被再次调用，根据上述的算法将会陷入无限递归之中。算法虽不强制要求，但也鼓励施者检测这样的递归是否存在，若检测到存在则以一个可识别的 "),e("code",[t._v("TypeError")]),t._v(" 为据因来拒绝 "),e("code",[t._v("promise")]),t._v(" [^注6]。")]),t._v(" "),e("h5",{attrs:{id:"注释"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#注释"}},[t._v("#")]),t._v(" 注释")]),t._v(" "),e("ul",[e("li",[e("p",[e("strong",[t._v("注 1")]),t._v(" 这里的"),e("strong",[t._v("平台代码")]),t._v("指的是引擎、环境以及 promise 的实施代码。实践中要确保 "),e("code",[t._v("onFulfilled")]),t._v(" 和 "),e("code",[t._v("onRejected")]),t._v(" 方法异步执行，且应该在 "),e("code",[t._v("then")]),t._v(" 方法被调用的那一轮事件循环之后的新执行栈中执行。这个事件队列可以采用“宏任务（macro-task）”机制或者“微任务（micro-task）”机制来实现。由于 promise 的实施代码本身就是平台代码（**译者注：**即都是 JavaScript），故代码自身在处理在处理程序时可能已经包含一个任务调度队列。")]),t._v(" "),e("p",[t._v("译者注：这里提及了 macrotask 和 microtask 两个概念，这表示异步任务的两种分类。在挂起任务时，JS 引擎会将所有任务按照类别分到这两个队列中，首先在 macrotask 的队列（这个队列也被叫做 task queue）中取出第一个任务，执行完毕后取出 microtask 队列中的所有任务顺序执行；之后再取 macrotask 任务，周而复始，直至两个队列的任务都取完。")]),t._v(" "),e("p",[t._v("两个类别的具体分类如下：")]),t._v(" "),e("ul",[e("li",[e("strong",[t._v("macro-task:")]),t._v(" script（整体代码）, "),e("code",[t._v("setTimeout")]),t._v(", "),e("code",[t._v("setInterval")]),t._v(", "),e("code",[t._v("setImmediate")]),t._v(", I/O, UI rendering")]),t._v(" "),e("li",[e("strong",[t._v("micro-task:")]),t._v(" "),e("code",[t._v("process.nextTick")]),t._v(", "),e("code",[t._v("Promises")]),t._v("（这里指浏览器实现的原生 Promise）, "),e("code",[t._v("Object.observe")]),t._v(", "),e("code",[t._v("MutationObserver")])])]),t._v(" "),e("p",[t._v("详见 "),e("a",{attrs:{href:"http://stackoverflow.com/questions/25915634/difference-between-microtask-and-macrotask-within-an-event-loop-context",target:"_blank",rel:"noopener noreferrer"}},[t._v("stackoverflow 解答"),e("OutboundLink")],1),t._v(" 或 "),e("a",{attrs:{href:"http://wengeezhang.com/?p=11",target:"_blank",rel:"noopener noreferrer"}},[t._v("这篇博客"),e("OutboundLink")],1)])]),t._v(" "),e("li",[e("p",[e("strong",[t._v("注 2")]),t._v(" 也就是说在**严格模式（strict）**中，函数 "),e("code",[t._v("this")]),t._v(" 的值为 "),e("code",[t._v("undefined")]),t._v(" ；在非严格模式中其为全局对象。")])])]),t._v(" "),e("ul",[e("li",[e("p",[e("strong",[t._v("注 3")]),t._v(" 代码实现在满足所有要求的情况下可以允许 "),e("code",[t._v("promise2 === promise1")]),t._v(" 。每个实现都要文档说明其是否允许以及在何种条件下允许 "),e("code",[t._v("promise2 === promise1")]),t._v(" 。")])]),t._v(" "),e("li",[e("p",[e("strong",[t._v("注 4")]),t._v(" 总体来说，如果 "),e("code",[t._v("x")]),t._v(" 符合当前实现，我们才认为它是真正的 "),e("em",[t._v("promise")]),t._v(" 。这一规则允许那些特例实现接受符合已知要求的 Promises 状态。")])]),t._v(" "),e("li",[e("p",[e("strong",[t._v("注 5")]),t._v(" 这步我们先是存储了一个指向 "),e("code",[t._v("x.then")]),t._v(" 的引用，然后测试并调用该引用，以避免多次访问 "),e("code",[t._v("x.then")]),t._v(" 属性。这种预防措施确保了该属性的一致性，因为其值可能在检索调用时被改变。")])]),t._v(" "),e("li",[e("p",[e("strong",[t._v("注 6")]),t._v(" 实现不应该对 "),e("em",[t._v("thenable")]),t._v(" 链的深度设限，并假定超出本限制的递归就是无限循环。只有真正的循环递归才应能导致 "),e("code",[t._v("TypeError")]),t._v(" 异常；如果一条无限长的链上 "),e("em",[t._v("thenable")]),t._v(" 均不相同，那么递归下去永远是正确的行为。")])])]),t._v(" "),e("h2",{attrs:{id:"_13-寄生组合继承和组合继承"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_13-寄生组合继承和组合继承"}},[t._v("#")]),t._v(" 13.寄生组合继承和组合继承")]),t._v(" "),e("p",[e("a",{attrs:{href:"https://zhuanlan.zhihu.com/p/63624812",target:"_blank",rel:"noopener noreferrer"}},[t._v("继承-文章转载来源"),e("OutboundLink")],1)]),t._v(" "),e("h3",{attrs:{id:"组合继承"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#组合继承"}},[t._v("#")]),t._v(" "),e("strong",[t._v("组合继承")])]),t._v(" "),e("p",[t._v("缺点：两次调用 sup 函数")]),t._v(" "),e("ol",[e("li",[t._v("new sup")]),t._v(" "),e("li",[t._v("sup.call")])]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("Sup")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("grade")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("grade "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" grade\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Sup")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prototype"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("sayGrade")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\tconsole"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("grade"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("Sub")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("name")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t"),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("Sup")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("call")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'一3班'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("name "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" name\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Sub")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prototype "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Sup")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'一3班'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Sub")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prototype"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("constructor "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Sub\n\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" instance "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Sub")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'小强'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\nconsole"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("dir")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("instance"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nconsole"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("dir")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("instance"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("sayGrade")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),e("p",[t._v("运行结果如下")]),t._v(" "),e("p",[e("img",{attrs:{src:"https://pic1.zhimg.com/80/v2-b162d458b2fad514fc762d3d96e14c6c_720w.jpg",alt:"img"}}),t._v("组合继承")]),t._v(" "),e("p",[t._v("可以看到实例上确实已经有了继承自"),e("code",[t._v("Sup")]),t._v("的"),e("code",[t._v("grade")]),t._v("属性和由"),e("code",[t._v("Sub")]),t._v("产生的"),e("code",[t._v("name")]),t._v("属性，在实例上执行"),e("code",[t._v("sayGrade")]),t._v("方法也能正确打印出结果。但可以看到由于"),e("code",[t._v("Sup")]),t._v("构造函数实例化了两次，在"),e("code",[t._v("Sub")]),t._v("的原型上也出现了"),e("code",[t._v("grade")]),t._v("属性。由于在实例上获取属性时会按原型链逐级往上找，而在实例上就已经获取到了"),e("code",[t._v("grade")]),t._v("属性，所以通常情况下原型上的这个属性不会生效，拥有这个“多余的”属性也无伤大雅。但在某些情况下会造成错误，例如删除实例上的"),e("code",[t._v("grade")]),t._v("属性，实际上还能访问到，此时获取到的是原型上的属性。")]),t._v(" "),e("p",[t._v("问题就出在第一次的"),e("code",[t._v("new Sup('一3班')")]),t._v("上，只是为了"),e("strong",[t._v("继承原型上的实例和方法")]),t._v("其实不必要执行该方法，寄生组合继承就可以解决这个问题。")]),t._v(" "),e("h3",{attrs:{id:"寄生组合继承"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#寄生组合继承"}},[t._v("#")]),t._v(" "),e("strong",[t._v("寄生组合继承")])]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("Sup")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("grade")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("grade "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" grade\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Sup")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prototype"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("sayGrade")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\tconsole"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("grade"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("Sub")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("name")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t"),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("Sup")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("call")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'一3班'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("name "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" name\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Sub")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prototype "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Object"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("create")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Sup")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prototype"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Sub")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prototype"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("constructor "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Sub\n\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" instance "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Sub")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'小强'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\nconsole"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("dir")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("instance"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nconsole"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("dir")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("instance"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("sayGrade"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),e("p",[t._v("运行结果如下")]),t._v(" "),e("p",[e("img",{attrs:{src:"https://pic2.zhimg.com/80/v2-5ed42693a29e020e7560b912577736be_720w.jpg",alt:"img"}})]),t._v(" "),e("p",[t._v("可以看到，"),e("code",[t._v("Sub")]),t._v("的原型上已经没有"),e("code",[t._v("grade")]),t._v("属性，这是因为"),e("code",[t._v("Object.create(Sup.prototype)")]),t._v("方法返回一个以"),e("code",[t._v("Sup.prototype")]),t._v("为原型的对象，而不用执行"),e("code",[t._v("Sup")]),t._v("方法。")]),t._v(" "),e("p",[t._v("显然寄生组合继承要比组合继承更加合理。")])])}),[],!1,null,null,null);s.default=n.exports}}]);